<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MG_ULTRA · terrain de jeu</title>
    
    <!-- Styles principaux -->
    <link rel="stylesheet" href="css/codage.css">
    
    <!-- ACE Editor -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.32.5/ace.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.32.5/ext-language_tools.js"></script>
    
    <!-- Icônes UI -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="app">
        <!-- HEADER avec scroll indépendant -->
        <header class="main-header">
            <!-- Bande 1 : navigation + identité -->
            <div class="header-band-1">
                <div class="header-left">
                    <button class="pill-icon" id="menu-toggle" title="Ouvrir/fermer sidebar">
                        <i class="fas fa-bars"></i>
                    </button>
                    
                    <!-- Sélecteur de langage -->
                    <div class="dropdown-group">
                        <button class="pill-icon" id="lang-selector" title="Langage">
                            <i class="fab fa-html5"></i>
                        </button>
                        <div class="dropdown-vertical" id="lang-dropdown">
                            <button data-lang="html">HTML</button>
                            <button data-lang="css">CSS</button>
                            <button data-lang="js">JavaScript</button>
                        </div>
                    </div>
                </div>

                <div class="header-center">
                    <span class="site-title">MG_ULTRA</span>
                </div>

                <div class="header-right">
                    <!-- Sélecteur de couleur -->
                    <div class="dropdown-group">
                        <button class="pill-icon" id="color-picker-btn" title="Couleurs">
                            <i class="fas fa-palette"></i>
                        </button>
                        <div class="dropdown-vertical" id="color-dropdown"></div>
                    </div>

                    <!-- Accessibilité -->
                    <div class="dropdown-group">
                        <button class="pill-icon" id="accessibility-btn" title="Accessibilité">
                            <i class="fas fa-universal-access"></i>
                        </button>
                        <div class="dropdown-vertical" id="accessibility-dropdown">
                            <button id="font-plus">Taille +</button>
                            <button id="font-minus">Taille -</button>
                            <button id="contrast-toggle">Contraste</button>
                            <button id="darkmode-toggle">Mode nuit</button>
                        </div>
                    </div>

                    <!-- Console -->
                    <button class="pill-icon" id="console-toggle" title="Console">
                        <i class="fas fa-terminal"></i>
                    </button>
                </div>
            </div>

            <!-- Bande 2 : snippets scrollables -->
            <div class="header-band-2" id="snippet-bar"></div>
        </header>

        <!-- LAYOUT PRINCIPAL -->
        <div class="main-layout">
            <!-- SIDEBAR projets (coulissante) -->
            <aside class="sidebar" id="sidebar">
                <div class="sidebar-header">
                    <h3>Projets</h3>
                </div>
                <div class="sidebar-content" id="project-list"></div>
                <div class="sidebar-footer" id="github-status">
                    <span class="github-indicator">⬇️ Chargement...</span>
                </div>
            </aside>

            <!-- ÉDITEUR ACE -->
            <div class="editor-panel" id="editorPanel">
                <div class="editor-header scrollable-x">
                    <button class="pill-icon tab-btn active" data-editor="html" title="HTML">
                        <i class="fab fa-html5"></i>
                    </button>
                    <button class="pill-icon tab-btn" data-editor="css" title="CSS">
                        <i class="fab fa-css3-alt"></i>
                    </button>
                    <button class="pill-icon tab-btn" data-editor="js" title="JavaScript">
                        <i class="fab fa-js"></i>
                    </button>
                    
                    <div class="separator"></div>
                    
                    <button class="pill-icon" id="undo-btn" title="Annuler">
                        <i class="fas fa-undo"></i>
                    </button>
                    <button class="pill-icon" id="redo-btn" title="Rétablir">
                        <i class="fas fa-redo"></i>
                    </button>
                    <button class="pill-icon" id="reset-btn" title="Réinitialiser">
                        <i class="fas fa-rotate-left"></i>
                    </button>
                    <button class="pill-icon" id="save-editor-btn" title="Sauvegarder">
                        <i class="fas fa-save"></i>
                    </button>
                    
                    <div class="spacer"></div>
                    
                    <button class="pill-icon run-btn" id="run-btn" title="Exécuter">
                        <i class="fas fa-play"></i>
                    </button>
                </div>
                
                <!-- Conteneurs ACE -->
                <div class="editor-container" id="editorContainer">
                    <div id="html-editor" class="ace-wrapper"></div>
                    <div id="css-editor" class="ace-wrapper hidden"></div>
                    <div id="js-editor" class="ace-wrapper hidden"></div>
                </div>

                <!-- CONSOLE -->
                <div class="console-panel hidden" id="consolePanel">
                    <div class="console-header">
                        <span><i class="fas fa-terminal"></i> Console</span>
                        <div class="console-controls">
                            <button class="pill-icon small" id="clear-console" title="Effacer">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                        <button class="pill-icon small" id="close-console" title="Fermer">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="console-content" id="consoleContent"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts principaux -->
    <script src="js/ace-editor.js"></script>
    <script src="js/header.js"></script>
    <script src="js/sidebar.js"></script>
    <script src="js/console.js"></script>
</body>
</html>